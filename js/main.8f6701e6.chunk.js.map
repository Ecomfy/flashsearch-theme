{"version":3,"sources":["style/theme.js","style/index.js","style/GlobalStyles.js","utils.js","components/Grid/Box.js","components/Grid/Flex.js","components/Grid/BoxShadow.js","components/Link/index.js","components/InstantSearch/Item.js","components/Text/index.js","components/InstantSearch/Product.js","components/InstantSearch/Label.js","components/InstantSearch/Products.js","components/HighlightText/index.js","components/InstantSearch/Suggestions.js","components/InstantSearch/ViewAllResults.js","components/InstantSearch/Collections.js","components/InstantSearch/Pages.js","components/InstantSearch/index.js","components/Input/index.js","components/MobileSearchBar/index.js","appRedux/slices/Suggest.js","hooks/searchBodyDataBuilder.js","hooks/useHandleInput.js","hooks/useEventListener.js","InstantSearchWrapper.js","MobileInstantSearchWrapper.js","appRedux/slices/Common.js","config/index.js","services/suggest.js","appRedux/sagas/Suggest.js","appRedux/sagas/index.js","appRedux/reducers/index.js","appRedux/store/index.js","App/index.js","serviceWorker.js","services/setting.js","index.js"],"names":["breakpoints","sm","md","lg","xl","space","mobileInstantSearchPt","fontSizes","body","label","theme","name","colors","background","white","black","grey","bodyText","mobileInstantSearchBg","lineHeights","fontWeights","light","normal","bold","letterSpacings","caps","labels","radii","sizes","borders","shadows","zIndices","instantSearchWidgetProps","width","styled","styledComponents","createGlobalStyle","ThemeProvider","ThemeContext","GlobalStyles","getInputs","result","document","querySelectorAll","forEach","el","push","querySelector","formatMoney","cents","format","replace","value","placeholderRegex","formatString","formatWithDelimiters","number","precision","thousands","decimal","isNaN","parts","toFixed","split","match","Box","div","color","layout","border","position","Flex","flexbox","defaultProps","display","BoxShadow","shadow","textDecoration","system","property","StyledLink","typography","Link","forwardRef","props","ref","as","StyledItem","Item","className","children","url","rest","useState","active","setActive","handleOnMouseOver","useCallback","handleOnMouseLeave","handleOnMouseDown","e","preventDefault","nativeEvent","which","window","location","href","alignItems","py","bg","onMouseDown","onMouseOver","onMouseLeave","onKeyDown","console","log","onkeyup","StyledText","wordWrap","Text","fontSize","fontWeight","Detail","Product","title","featuredImage","priceMin","compareAtPriceMin","currency","setCurrency","moneyFormat","setMoneyFormat","useEffect","Shopify","formattedPrice","setFormattedPrice","formattedCpaPrice","setFormattedCpaPrice","parseFloat","priceFormatter","Intl","NumberFormat","undefined","style","PriceMarkup","compareAtPriceMarkup","mr","minWidth","minHeight","marginRight","maxWidth","maxHeight","src","originalSrc","alt","mb","Label","textAlign","Products","products","mt","map","product","key","id","Highlight","highlightIndex","StyledHighlightText","unhighlightFontWeight","HighlightText","searchWord","textToHighlight","themeContext","useContext","searchWords","autoEscape","highlightStyle","unhighlightClassName","highlightTag","Suggestions","suggestions","query","suggestion","index","toString","ViewAllResult","justifyContent","Collections","collections","collection","handle","Pages","pages","page","StyledWrapper","InstantSearch","didYouMean","productPerPage","enable","top","left","input","redirect","DidYouMeanWrapper","suggestionMarkup","length","collectionMarkup","pageMarkup","didYouMeanMarkup","cursor","px","borderRadius","onClick","stopPropagation","event","Event","dispatchEvent","productMarkup","notFoundMarkup","viewAllResultMarkup","enableWidget","overflow","boxShadow","zIndex","pt","onTouchMove","activeElement","blur","m","StyledInput","outline","Input","Background","backdropFilter","InputWrapper","MobileSearchBar","placeholder","handleOnClickBack","inputRef","current","focus","height","alignContent","flexWrap","ml","icon","faArrowLeft","flexGrow","my","type","autoComplete","slice","createSlice","initialState","reducers","suggest","state","suggestSuccess","action","payload","actions","buildSearchBodyData","settings","q","pinnedProducts","merchandisingRules","synonyms","defaultSearchFields","metafieldSearchFields","variantMetafieldSearchFields","bodyData","applyToAll","applyToInstantSearch","merchandisingRulesResult","all","specific","analyzer","field","weight","useHandleInput","dispatch","useDispatch","handleOnInput","usageStatus","allFeatures","instantSearch","target","trim","handleOnKeyDown","require","useRef","useEventListener","eventName","handler","element","savedHandler","addEventListener","eventListener","removeEventListener","InstantSearchWrapper","setPosition","setEnable","widgetWidth","setWidgetWidth","suggestData","useSelector","calculateWidgetPosition","inputRect","getBoundingClientRect","innerWidth","innerHeight","getInstantSearchPosition","handleShowWidget","eventType","showWidget","MobileInstantSearchWrapper","enableSearchBar","setEnableSearchBar","handleOnInputFocus","oldInputLength","setOldInputLength","currentInputs","setCurrentInputs","observer","MutationObserver","mutations","inputs","observe","childList","subtree","disconnect","onInput","error","loading","partialLoading","itemLoading","item2Loading","message","itemLoader","fetchStart","fetchSuccess","fetchError","config","apiEnpoint","process","scriptIdentifier","API_ENDPOINT","suggestAPI","axios","method","headers","data","suggestRequest","suggestSaga","rootSaga","put","call","takeLatest","fork","getState","suggestSagas","createRootReducer","combineReducers","common","Common","Suggest","configureStore","preloadedState","sagaMiddleware","createSagaMiddleware","store","createStore","compose","applyMiddleware","run","mobileStore","App","instantSearchs","setInstantSearchs","attributes","characterData","Boolean","hostname","settingAPI","getSettings","scripts","getElementsByTagName","script","indexOf","URL","params","URLSearchParams","search","defaults","get","then","response","widgetContainer","createElement","setAttribute","appendChild","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","catch"],"mappings":"4OAKMA,EAAc,CAAC,QAAS,QAAS,QAAS,UAGhDA,EAAYC,GAAKD,EAAY,GAC7BA,EAAYE,GAAKF,EAAY,GAC7BA,EAAYG,GAAKH,EAAY,GAC7BA,EAAYI,GAAKJ,EAAY,GAM7B,IAqBMK,EAAQ,CACZ,IACA,MACA,MACA,OACA,OACA,OACA,QACA,QACA,SAGFA,EAAMC,sBAAwB,OAK9B,IAAMC,EAAY,CAChB,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SAEFA,EAAUC,KAAOD,EAAU,GAC3BA,EAAUE,MAAQF,EAAU,GAE5B,IA+DaG,EAAQ,CACnBC,KAAM,UACNX,cACAY,OAvHa,CACbC,WAAY,mBACZC,MAAO,mBACPC,MAAO,iBACPC,KAAM,CACJ,kBACA,mBAMFC,SAAU,oBAEVC,sBAAuB,0BA0GvBb,QACAE,YACAY,YArEkB,CAAC,EAAG,MAAO,KAAM,KAsEnCC,YApEkB,CAClBC,MAAO,IACPC,OAAQ,IACRC,KAAM,KAkENC,eA5DqB,CACrBF,OAAQ,SACRG,KAAM,SACNC,OAAQ,UA0DRC,MApDY,CAAC,IAAK,MAAO,MAAO,MAAO,QAqDvCC,MAhDY,CACZ,OACA,OACA,SA8CAC,QAxCc,CACd,EACA,qBAuCAC,QAjCc,CACd,cAAiB,sCAiCjBC,SA3Be,CACf,IACA,aACA,aACA,cAwBAC,yBAlB+B,CAC/BC,MAAO,M,QC9HEC,EAIPC,IAHFC,EAGED,IAFFE,EAEEF,IADFG,EACEH,IAUWD,I,uHChBf,IAMeK,EANMH,EAAH,KCFZI,EAAY,WAChB,IAAMC,EAAS,GAIf,OAHAC,SAASC,iBAAiB,0BAA0BC,SAAQ,SAAAC,GAC1DJ,EAAOK,KAAKD,EAAGE,cAAc,uBAExBN,GA0BHO,EAAc,SAACC,GAAmC,IAA5BC,EAA2B,uDAAlB,cACd,kBAAVD,IACTA,EAAQA,EAAME,QAAQ,IAAK,KAE7B,IAAIC,EAAQ,GACNC,EAAmB,sBACnBC,EAAeJ,EAErB,SAASK,EAAqBC,EAAQC,EAAWC,EAAWC,GAI1D,GAHAD,EAAYA,GAAa,IACzBC,EAAUA,GAAW,IAEjBC,MAAMJ,IAAsB,OAAXA,EACnB,OAAO,EAKT,IAAMK,GAFNL,GAAUA,EAAS,KAAOM,QAAQL,IAEbM,MAAM,KAO3B,OANsBF,EAAM,GAAGV,QAC7B,2BACA,KAAOO,IAEWG,EAAM,GAAKF,EAAUE,EAAM,GAAK,IAKtD,OAAQP,EAAaU,MAAMX,GAAkB,IAC3C,IAAK,SACHD,EAAQG,EAAqBN,EAAO,GACpC,MACF,IAAK,qBACHG,EAAQG,EAAqBN,EAAO,GACpC,MACF,IAAK,8BACHG,EAAQG,EAAqBN,EAAO,EAAG,IAAK,KAC5C,MACF,IAAK,0CACHG,EAAQG,EAAqBN,EAAO,EAAG,IAAK,KAC5C,MACF,IAAK,0CACHG,EAAQG,EAAqBN,EAAO,EAAG,KACvC,MACF,IAAK,mCACHG,EAAQG,EAAqBN,EAAO,EAAG,KACvC,MACF,QACEG,EAAQG,EAAqBN,EAAO,GAIxC,OAAOK,EAAaH,QAAQE,EAAkBD,I,iHC/EhD,IASea,EATH/B,EAAOgC,IAAV,IACL7D,IACA8D,IACAC,IACAC,IACAxD,IACAyD,K,8ECNJ,IAAMC,EAAOrC,EAAO+B,EAAP/B,CAAH,IACNsC,KAKJD,EAAKE,aAAe,CAClBC,QAAQ,QAGKH,Q,8ECXf,IAGeI,EAHGzC,EAAO+B,EAAP/B,CAAH,IACX0C,K,uICCJ,IAAMC,EAAiBC,YAAO,CAC5BD,eAAgB,CACdE,SAAU,oBAIRC,EAAa9C,EAAO+B,EAAP/B,CAAH,IAGZ+C,IACAJ,GAOWK,EAJFC,sBAAW,SAACC,EAAOC,GAAR,OACtB,kBAACL,EAAD,eAAYK,IAAKA,EAAKC,GAAG,IAAIT,eAAe,QAAYO,O,mGCD1D,IAAMG,EAAarD,YAAOqC,EAAPrC,CAAH,KA0CDsD,EAtCF,SAAAJ,GAAU,IACbK,EAAsCL,EAAtCK,UAAWC,EAA2BN,EAA3BM,SAAUC,EAAiBP,EAAjBO,IAAQC,EADjB,YAC0BR,EAD1B,kCAIQS,oBAAS,GAJjB,mBAIbC,EAJa,KAILC,EAJK,KAMdC,EAAoBC,uBAAY,WACpCF,GAAU,KACT,IACGG,EAAqBD,uBAAY,WACrCF,GAAU,KACT,IAEGI,EAAoBF,uBACxB,SAAAG,GACEA,EAAEC,iBAC0B,IAAxBD,EAAEE,YAAYC,QAChBC,OAAOC,SAASC,KAAKf,KAGzB,CAACA,IAGH,OAAO,kBAACJ,EAAD,eACLoB,WAAW,SACXC,GAAI,EACJC,GAAIf,EAAS,SAAU,KACvBL,UAAWA,EACXqB,YAAaX,EACbY,YAAaf,EACbgB,aAAcd,EACde,UAAW,WAAOC,QAAQC,IAAI,aAAcC,QAAS,WAAOF,QAAQC,IAAI,YACnEvB,GAEJF,I,4FCnDL,IAAM2B,EAAanF,EAAO+B,EAAP/B,CAAH,IACZ+C,IACAH,YAAO,CAACwC,UAAU,IAClBxC,YAAO,CAACD,gBAAgB,KAcb0C,EAXFpC,sBAAW,SAACC,EAAOC,GAAR,OACtB,kBAACgC,EAAD,eACEhC,IAAKA,EACLmC,SAAS,OACTC,WAAW,SACXtD,MAAM,WACNmD,SAAS,cACJlC,O,qECVT,IAAMsC,EAASxF,IAAOgC,IAAV,KAoEGyD,EAlEC,SAAAvC,GAAU,IAChBwC,EAAsDxC,EAAtDwC,MAAOC,EAA+CzC,EAA/CyC,cAAeC,EAAgC1C,EAAhC0C,SAAUC,EAAsB3C,EAAtB2C,kBADjB,EAISlC,mBAAS,OAJlB,mBAIhBmC,EAJgB,KAINC,EAJM,OAKepC,mBAAS,IALxB,mBAKhBqC,EALgB,KAKHC,EALG,KAMvBC,qBAAU,WAGRH,EAAYI,QAAQL,SAASlC,QAC7B,IAEEqC,EAAezH,MAAMwH,aACrB,MAAO9B,OACR,IAdoB,MAiBqBP,mBAAS,GAjB9B,mBAiBhByC,EAjBgB,KAiBAC,EAjBA,OAkB2B1C,mBAAS,GAlBpC,mBAkBhB2C,EAlBgB,KAkBGC,EAlBH,KAmBvBL,qBAAU,WACR,GAAIF,EACFK,EAAkBvF,EAAY0F,WAAWZ,GAAUhE,QAAQ,GAAIoE,IAC/DO,EAAqBzF,EAAY0F,WAAWX,GAAmBjE,QAAQ,GAAIoE,QACtE,CACL,IAAMS,EAAiB,IAAIC,KAAKC,kBAAaC,EAAW,CACtDC,MAAO,WACPf,SAAUA,IAEZO,EAAkBI,EAAezF,OAAO4E,IACxCW,EAAqBE,EAAezF,OAAO6E,OAE5C,CAACA,EAAmBC,EAAUE,EAAaJ,IAE9C,IAAMkB,EAAclB,EAAW,kBAAC,EAAD,CAAMxC,GAAG,OAAOmC,WAAW,QAAQa,GAAyB,KACrFW,EAAuBlB,EAC3B,kBAAC,EAAD,CAAMzC,GAAG,OAAOT,eAAe,eAAeV,MAAM,SAAS+E,GAAI,GAAIV,GACnE,KAEJ,OACE,kBAAC,EAAD,CAAM7C,IAAKP,EAAMO,KACf,kBAAC,EAAD,CACEe,KAAMtB,EAAMO,IACZiC,MAAOA,EACPuB,SAAU,EACVC,UAAW,EACXC,YAAa,GAEb,kBAAC,EAAD,CACE/D,GAAG,MACHgE,SAAU,EACVC,UAAW,EACXC,IAAK3B,EAAc4B,YACnBC,IAAI,MAGR,kBAAChC,EAAD,KACE,kBAAC,EAAD,CAAMiC,GAAI,GAAI/B,GACd,kBAAC,EAAD,KACGqB,EACAD,MC7DIY,EAJDzE,sBAAW,SAACC,EAAOC,GAAR,OACvB,kBAAC,EAAD,eAAMA,IAAKA,EAAKwE,UAAU,QAAQ1F,MAAM,SAASqD,SAAS,QAAQmC,GAAI,GAAQvE,OCejE0E,EAdE,SAAA1E,GAAU,IAClB2E,EAAY3E,EAAZ2E,SACP,OACE,oCACE,kBAAC,EAAD,CAAOC,GAAI,GAAX,YACA,kBAAC,EAAD,KACGD,EAASE,KAAI,SAAAC,GAAO,OACnB,kBAAC,EAAD,iBAAaA,EAAb,CAAsBC,IAAKD,EAAQE,Y,wJCR7C,IAAMC,EAAY,SAAC,GAAD,IAAG3E,EAAH,EAAGA,SAAH,EAAa4E,eAAb,OAChB,8BAAO5E,IAGH6E,EAAsBrI,EAAOqF,EAAPrF,CAAH,KAEN,SAAAkD,GAAK,OAAIA,EAAMoF,yBAqBnBC,GAjBO,SAAArF,GAAU,IACtBsF,EAA2CtF,EAA3CsF,WAAYC,EAA+BvF,EAA/BuF,gBAAiBlF,EAAcL,EAAdK,UAC/BmF,EAAeC,qBAAWvI,GAChC,OACE,kBAACiI,EAAD,CAAqB9E,UAAWA,EAAW+E,sBAAuBI,EAAaxJ,YAAYG,MACzF,kBAAC,IAAD,CACEuJ,YAAa,CAACJ,GACdK,YAAY,EACZJ,gBAAiBA,EACjBK,eAAgB,CAAC7G,MAAO,WACxB8G,qBAAqB,+BACrBC,aAAcb,MCGPc,GAtBK,SAAA/F,GAAU,IACrBgG,EAAsBhG,EAAtBgG,YAAaC,EAASjG,EAATiG,MAEpB,OACE,oCACE,kBAAC,EAAD,4BACA,kBAAC,EAAD,KACGD,EAAYnB,KAAI,SAACqB,EAAYC,GAAb,OACf,kBAAC,EAAD,CAAM5F,IAAG,oBAAe2F,GAAcnB,IAAKoB,EAAMC,YAC/C,kBAAC,EAAD,CAAM9E,KAAI,oBAAe4E,IACvB,kBAAC,GAAD,CACEZ,WAAYW,EACZV,gBAAiBW,YCFlBG,GAZO,SAAArG,GAAU,IACvBiG,EAASjG,EAATiG,MACP,OACE,kBAAC,EAAD,CAAM1F,IAAG,oBAAe0F,GAASK,eAAe,UAE9C,kBAAC,EAAD,CAAM7B,UAAU,UACd,kBAAC,EAAD,CAAMvE,GAAG,OAAOnB,MAAM,UAAtB,yBADF,IAC8D,kBAAC,EAAD,CAAMmB,GAAG,OAAOmC,WAAW,QAAQ4D,MCiBxFM,GArBK,SAAAvG,GAAU,IACrBwG,EAAsBxG,EAAtBwG,YAAaP,EAASjG,EAATiG,MACpB,OACE,oCACE,kBAAC,EAAD,CAAOrB,GAAI,GAAX,eACA,kBAAC,EAAD,KACG4B,EAAY3B,KAAI,SAAC4B,EAAYN,GAAb,OACf,kBAAC,EAAD,CAAM5F,IAAG,uBAAkBkG,EAAWC,QAAU3B,IAAKoB,EAAMC,YACzD,kBAAC,EAAD,CAAM9E,KAAI,uBAAkBmF,EAAWC,SACrC,kBAAC,GAAD,CACEpB,WAAYW,EACZV,gBAAiBkB,EAAWjE,gBCU7BmE,GArBD,SAAA3G,GAAU,IACf4G,EAAgB5G,EAAhB4G,MAAOX,EAASjG,EAATiG,MACd,OACE,oCACE,kBAAC,EAAD,CAAOrB,GAAI,GAAX,SACA,kBAAC,EAAD,KACGgC,EAAM/B,KAAI,SAACgC,EAAMV,GAAP,OACT,kBAAC,EAAD,CAAM5F,IAAG,iBAAYsG,EAAKH,QAAU3B,IAAKoB,EAAMC,YAC7C,kBAAC,EAAD,CAAM9E,KAAI,iBAAYuF,EAAKH,SACzB,kBAAC,GAAD,CACEpB,WAAYW,EACZV,gBAAiBsB,EAAKrE,gB,uMCRtC,IAAMsE,GAAgBhK,EAAOyC,EAAPzC,CAAH,MA8GJiK,GA1GO,SAAA/G,GAAU,IAE5BgG,EAMEhG,EANFgG,YAAaQ,EAMXxG,EANWwG,YAAaI,EAMxB5G,EANwB4G,MAAOjC,EAM/B3E,EAN+B2E,SAAUqC,EAMzChH,EANyCgH,WAAYC,EAMrDjH,EANqDiH,eACvDhB,EAKEjG,EALFiG,MAAOiB,EAKLlH,EALKkH,OAEPC,EAGEnH,EAHFmH,IAAKC,EAGHpH,EAHGoH,KAAMjD,EAGTnE,EAHSmE,UACXkD,EAEErH,EAFFqH,MACAC,EACEtH,EADFsH,SAGIC,EAAoBzK,EAAO+B,EAAP/B,CAAH,MAejB0K,EAAmBxB,GAAeA,EAAYyB,OAAS,EAC3D,kBAAC,GAAD,CAAazB,YAAaA,EAAaC,MAAOA,IAC5C,KAEEyB,EAAmBlB,GAAeA,EAAYiB,OAAS,EAC3D,kBAAC,GAAD,CAAajB,YAAaA,EAAaP,MAAOA,IAC5C,KAEE0B,EAAaf,GAASA,EAAMa,OAAS,EACzC,kBAAC,GAAD,CAAOb,MAAOA,EAAOX,MAAOA,IAC1B,KAGE2B,EAAmBZ,EACvB,kBAAC,EAAD,CAAMvC,UAAU,SAASjD,GAAI,GAA7B,4BAC2B,kBAAC,EAAD,CAAMtB,GAAG,OAAOmC,WAAW,QAAQ4D,GAD9D,uBAEgB,kBAACsB,EAAD,CACdrH,GAAG,OAAO2H,OAAO,UAAUpG,GAAG,SAASqG,GAAI,EAAGtG,GAAI,EAAGuG,aAAc,EACnEC,QA7B0B,SAAChH,GAC7BA,EAAEiH,kBACFjH,EAAEC,iBACF,IAAMiH,EAAQ,IAAIC,MAAM,QAAS,CAC/B,SAAW,EACX,YAAc,IAEhBd,EAAMrJ,MAAQgJ,EACdK,EAAMe,cAAcF,IAsBlBxG,YAAa,SAACV,GAAD,OAAOA,EAAEC,mBAEtB,kBAAC,EAAD,CACEf,GAAG,QAAQ8G,IARf,MAUE,KAEEqB,EAAgB1D,GAAYA,EAAS8C,OAAS,EAClD,kBAAC,EAAD,CAAU9C,SAAUA,IAClB,KAEE2D,EAAiBpB,GACC,OAArBM,GACqB,OAArBE,GACe,OAAfC,GACqB,OAArBC,GACkB,OAAlBS,EACD,kBAAC,EAAD,iCAC2B,kBAAC,EAAD,CAAMnI,GAAG,OAAOmC,WAAW,QAA3B,IAAoC4D,EAApC,MAEzB,KAGEsC,EAAwB5D,EAAS8C,SAAWR,GAAmBhB,EACnE,kBAAC,GAAD,CAAeA,MAAOA,IACpB,KAEEuC,EAAetB,IACA,OAAnBoB,KAA8BrC,KAASqB,IAGzC,OACE,kBAACR,GAAD,CACErF,GAAG,aACHvC,SAAS,QACTuJ,SAAS,OACTC,UAAU,gBAEVzJ,OAAQ,CAAC,OAAQ,OAAQ,EAAG,GAC5B8I,aAAc,CAAC,EAAG,EAAG,EAAG,GACxBY,OAAQ,EACRrJ,QAASkJ,EAAe,QAAU,OAClCrB,IAAK,CAAC,MAAO,MAAR,UAAkBA,EAAlB,gBAA8BA,EAA9B,OACLC,KAAM,CAAC,EAAG,EAAJ,UAAUA,EAAV,gBAAuBA,EAAvB,OACNwB,GAAI,CAAC,wBAAyB,wBAAyB,EAAG,GAC1D/L,MAAO,CAAC,OAAQ,OAAQ,EAAG,GAC3BsH,UAAW,CAAC,mBAAoB,mBAArB,UAA4CA,EAA5C,gBAA8DA,EAA9D,OACX0E,YAAa,kBAAMvL,SAASwL,cAAcC,SAE1C,kBAAC,EAAD,CAAKC,EAAG,CAAC,EAAG,EAAG,EAAG,GAAIzE,GAAI,CAAC,EAAG,GAAIK,GAAI,CAAC,EAAG,IACvC4C,EACAE,EACAC,EACAC,EACAS,EACAC,EACAC,K,4jCC5GT,IAAMU,GAAcnM,EAAO+B,EAAP/B,CAAH,KACb+C,IACAH,YAAO,CAACwJ,SAAS,KA8BNC,GAXDpJ,sBAAW,SAACC,EAAOC,GAAR,OACvB,kBAACgJ,GAAD,eACE/I,GAAG,QACHD,IAAKA,EACLiJ,QAAQ,OACRjK,OAAO,OACPmD,SAAS,QACLpC,O,kLC3BR,IAAMoJ,GAAatM,EAAO+B,EAAP/B,CAAH,KACZ4C,YAAO,CAAC2J,gBAAgB,KAGtBC,GAAexM,EAAOqC,EAAPrC,CAAH,KACd4C,YAAO,CAAC2J,gBAAgB,KAGtBE,GAAkB,SAAAvJ,GAAU,IACzBwJ,EAA6DxJ,EAA7DwJ,YAAatC,EAAgDlH,EAAhDkH,OAAQuC,EAAwCzJ,EAAxCyJ,kBAAmBC,EAAqB1J,EAArB0J,SAAalJ,EAD7B,YACqCR,EADrC,yDAW/B,OANAgD,qBAAU,WACJ0G,GAAYA,EAASC,SACvBD,EAASC,QAAQC,WAKnB,kBAAC,EAAD,CAAKtK,QAAS,CAAC4H,EAAS,QAAU,OAAQA,EAAS,QAAU,OAAQ,OAAQ,SAC3E,kBAACkC,GAAD,CACEjC,IAAK,EACLC,KAAM,EACNvK,MAAM,OACNgN,OAAO,QACPpI,GAAG,wBACH4H,eAAe,aACfV,OAAQ,EACRzJ,SAAS,UAGX,kBAACoK,GAAD,CACEnC,IAAK,EACLC,KAAM,EACNvK,MAAM,OACN8L,OAAQ,EACRzJ,SAAS,QACTqC,WAAW,SACX+E,eAAe,WACf7E,GAAG,wBACH4H,eAAe,cAEf,kBAAC,EAAD,CAAMQ,OAAQ,EAAGC,aAAa,SAASC,SAAS,OAAOlC,OAAO,UAAUmC,GAAI,EAAGhC,QAASyB,GACtF,kBAAC,KAAD,CAAiBQ,KAAMC,QAEzB,kBAAC,EAAD,CAAM5K,QAAQ,QAAQ6K,SAAS,IAAIjL,SAAS,WAAW8K,GAAI,EAAGlG,GAAI,EAAGsG,GAAI,GACvE,kBAAC,EAAD,CAAKlK,GAAG,QACN,kBAAC,GAAD,eACED,IAAKyJ,EACLW,KAAK,SACLC,aAAa,MACbd,YAAaA,EACb/H,GAAG,SACHqG,GAAI,EACJtG,GAAI,EACJ3E,MAAM,OACNgN,OAAQ,GACJrJ,SASlB+I,GAAgBlK,aAAe,CAC7BmK,YAAa,UAGAD,U,kBClETgB,GAAQC,aAAY,CACxBjP,KAAM,UACNkP,aAZiB,CACjBjE,YAAa,GACbQ,WAAY,GACZJ,MAAO,GACPK,eAAgB,EAChBtC,SAAU,GACVsB,MAAO,GACPD,YAAa,IAMb0E,SAAU,CACRC,QADQ,SACAC,GAAS,OAAOA,GAExBC,eAHQ,SAGOD,EAAOE,GACpB,OAAO,gBAAIF,EAAX,GAAqBE,EAAOC,a,GAKOR,GAAMS,QAAjCL,G,GAAAA,QAASE,G,GAAAA,eAERN,MAAf,Q,SC4DeU,GA5Ea,SAACC,EAAUC,GAAO,IAE1CC,EAGEF,EAHFE,eAAgBC,EAGdH,EAHcG,mBAAoBC,EAGlCJ,EAHkCI,SACpCC,EAEEL,EAFFK,oBAAqBC,EAEnBN,EAFmBM,sBACrBC,EACEP,EADFO,6BAGIC,EAAW,CAAC,EAAKP,GAGnBD,GAAYE,IACVD,KAAKC,EAAeO,WACtBD,EAAQ,eAAqBN,EAAeO,WAAWR,GAC9CA,KAAKC,EAAeQ,uBAC7BF,EAAQ,eAAqBN,EAAeQ,qBAAqBT,KAKrE,IAAIU,EAA2B,GAsD/B,OApDIX,GAAYG,IAGVA,EAAmBM,aACjBN,EAAmBM,WAAWG,KAAOT,EAAmBM,WAAWG,IAAIrE,OAAS,IAClFoE,EAAwB,uBAAOA,GAAP,aAA4DR,EAAmBM,WAAWG,OAIhHX,KAAKE,EAAmBM,WAAWI,WACrCF,EAAwB,uBAAOA,GAAP,aAA4DR,EAAmBM,WAAWI,SAASZ,OAK3HE,EAAmBO,uBAEjBP,EAAmBO,qBAAqBE,KAAOT,EAAmBO,qBAAqBE,IAAIrE,OAAS,IACtGoE,EAAwB,uBAAOA,GAAP,aAA4DR,EAAmBO,qBAAqBE,OAI1HX,KAAKE,EAAmBO,qBAAqBG,WAC/CF,EAAwB,uBAAOA,GAAP,aAA4DR,EAAmBO,qBAAqBG,SAASZ,QAKvIU,EAAyBpE,OAAS,IACpCiE,EAAQ,mBAAyBG,GAI/BP,GAAkC,KAAtBA,EAASU,WACvBN,EAAQ,iBAAuBJ,EAASU,UAItCT,IACFG,EAAQ,oBAAmDH,EAjEzC1G,KAAI,SAAAoH,GACtB,MAAO,CAAC1Q,KAAM0Q,EAAM1Q,KAAM2Q,OAAQD,EAAMC,YAoEtCV,IACFE,EAAQ,sBAA4BF,GAIlCC,IACFC,EAAQ,6BAAmCD,GAGtCC,GC1BMS,GApDQ,SAACjB,GACtB,IAAMkB,EAAWC,cAgDjB,MAAO,CAACC,cA7CczL,uBAAY,SAAAG,GAAM,IAC/BuL,EAAerB,EAAfqB,YAEAC,EAA8BD,EAA9BC,YAAaC,EAAiBF,EAAjBE,cACpB,GAAKD,GAAgBC,EAArB,CAKA,IAAMtB,EAAInK,EAAE0L,OAAO1O,MAAM2O,OACzB,GAAKxB,EAAL,CAIA,IAAMO,EAAWT,GAAoBC,EAAUC,GAE/CiB,EAASzB,GAAQe,QAEhB,CAACU,EAAUlB,IA2BS0B,gBAzBC/L,uBAAY,SAACG,GAAO,IACnCuL,EAAyBrB,EAAzBqB,YAAajF,EAAY4D,EAAZ5D,SAEbkF,EAA8BD,EAA9BC,YAAaC,EAAiBF,EAAjBE,cACpB,GAAKD,GAAgBC,GAKP,UAAVzL,EAAE+D,IAAiB,CACrB/D,EAAEC,iBAEF,IAAMkK,EAAInK,EAAE0L,OAAO1O,MAAM2O,OAIvBvL,OAAOC,SADL8J,KAAK7D,EACWA,EAAS6D,GAIT,aAAeA,KAGpC,CAACD,MCpDClI,GAAa6J,EAAQ,GAArB7J,UACA8J,GAAUD,EAAQ,GAAlBC,OAoCQC,OAlCf,SAA0BC,EAAWC,GAA4B,IAAnBC,EAAkB,uDAAR9L,OAEhD+L,EAAeL,KAMrB9J,IAAU,WACRmK,EAAaxD,QAAUsD,IACtB,CAACA,IAEJjK,IACE,WAIE,GADoBkK,GAAWA,EAAQE,iBACvC,CAGA,IAAMC,EAAgB,SAAAnF,GAAK,OAAIiF,EAAaxD,QAAQzB,IAMpD,OAHAgF,EAAQE,iBAAiBJ,EAAWK,GAG7B,WACLH,EAAQI,oBAAoBN,EAAWK,OAG3C,CAACL,EAAWE,KCmCDK,GA5Dc,SAAAvN,GAAU,IAC9BqH,EAAmBrH,EAAnBqH,MAAO6D,EAAYlL,EAAZkL,SADsB,EAEJzK,mBAAS,CAAC0G,IAAK,EAAGC,KAAM,EAAGjD,UAAW,IAFlC,mBAE7BjF,EAF6B,KAEnBsO,EAFmB,OAGR/M,oBAAS,GAHD,mBAG7ByG,EAH6B,KAGrBuG,EAHqB,KAI9BjI,EAAeC,qBAAWvI,KAJI,EAKEuD,mBAAS,GALX,mBAK7BiN,EAL6B,KAKhBC,EALgB,KAO9BC,EAAcC,aAAY,qBAAElD,WAC3B1E,EAAS2H,EAAT3H,MAR6B,EAWKkG,GAAejB,GAAjDoB,EAX6B,EAW7BA,cAAeM,EAXc,EAWdA,gBAUtB5J,qBAAU,WACR2K,EAAenI,EAAa5I,yBAAyBC,SACpD,CAAC2I,EAAa5I,2BAGjB,IAAMkR,EAA0BjN,uBAAY,WAAM,MtB1BnB,SAACwG,EAAOqG,GAEvC,IAAMK,EAAY1G,EAAM2G,wBAGlB7G,EAAM4G,EAAU5G,IAAM4G,EAAUlE,OActC,MAAO,CAAE1C,MAAKC,KAVVhG,OAAO6M,WAAaF,EAAU3G,KAAOsG,EAChCK,EAAU3G,MAAQsG,EAAcK,EAAUlR,OAE1CkR,EAAU3G,KAOCjD,UAFF/C,OAAO8M,YAAc/G,EAAM,GsBWZgH,CAAyB9G,EAAOqG,GAAxDvG,EAFyC,EAEzCA,IAAKC,EAFoC,EAEpCA,KAAMjD,EAF8B,EAE9BA,UAClBqJ,EAAY,CAACrG,MAAKC,OAAMjD,gBAEvB,CAACkD,EAAOqG,IAEXX,GAAiB,SAAUe,EAAyB1M,QACpD2L,GAAiB,QAASe,EAAyBzG,GAGnD,IAAM+G,EAAmBvN,uBAAY,SAAAwN,GACnC,OAAO,WAEa,SAAdA,EACFZ,GAAU,GACa,UAAdY,GACTZ,GAAU,MAGb,IAEHV,GAAiB,QAAST,EAAejF,GACzC0F,GAAiB,UAAWH,EAAiBvF,GAC7C0F,GAAiB,QAASqB,EAAiB,SAAU/G,GACrD0F,GAAiB,OAAQqB,EAAiB,QAAS/G,GAEnD,IAAMiH,EACJpH,GACAjB,EAEF,OAAO,kBAAC,GAAD,iBAAmB2H,EAAnB,CAAgCtG,SAAU4D,EAAS5D,SAAUJ,OAAQoH,GAAgBpP,EAArF,CAA+FmI,MAAOA,MCoBhGkH,GA9EoB,SAAC,GAAgB,IAAfrD,EAAc,EAAdA,SAAc,EACrBzK,oBAAS,GADY,mBAC1CyG,EAD0C,KAClCuG,EADkC,OAEHhN,oBAAS,GAFN,mBAE1C+N,EAF0C,KAEzBC,EAFyB,KAI3Cb,EAAcC,aAAY,qBAAElD,WAC3B1E,EAAS2H,EAAT3H,MAL0C,EAQRkG,GAAejB,GAAjDoB,EAR0C,EAQ1CA,cAAeM,EAR2B,EAQ3BA,gBAIhBnD,EAAoB5I,uBAAY,WACpC4M,GAAU,GACVgB,GAAmB,KAClB,IAIGC,EAAqB,SAAA1N,GACzByN,GAAmB,GACnBhB,GAAU,IArBqC,EAuBLhN,mBAAS,GAvBJ,mBAuB1CkO,EAvB0C,KAuB1BC,EAvB0B,OAwBPnO,qBAxBO,mBAwB1CoO,EAxB0C,KAwB3BC,EAxB2B,KAyBjD9L,qBAAU,WACR,IAAM+L,EAAW,IAAIC,kBAAiB,SAAUC,GAC9C,IAAMC,EAAS9R,IAEf,GAAI8R,EAAOzH,SAAWkH,EAOpB,OANAC,EAAkBM,EAAOzH,QACzBqH,EAAiBI,GAEjBA,EAAO1R,SAAQ,SAAA6J,GACbA,EAAM+F,iBAAiB,QAASsB,MAE3B,WACLQ,EAAO1R,SAAQ,SAAA6J,GACbA,EAAMiG,oBAAoB,QAASoB,UAU3C,OALAK,EAASI,QAAQ7R,SAASlC,KAAM,CAC9BgU,WAAW,EACXC,SAAS,IAGJ,WACLN,EAASO,aACLT,GACFA,EAAcrR,SAAQ,SAAA6J,GACpBA,EAAMiG,oBAAoB,QAASoB,SAIxC,CAACG,EAAeF,IAEnB,IAAMjF,EAAWoD,mBAEXwB,EACJpH,GACAjB,EAEF,OACE,oCACE,kBAAC,GAAD,CACEyD,SAAUA,EACV6F,QAASjD,EACTzK,UAAW+K,EACX1F,OAAQsH,EACR/E,kBAAmBA,IAErB,kBAAC,GAAD,iBAAmBmE,EAAnB,CAAgCtG,SAAU4D,EAAS5D,SAAUJ,OAAQoH,EAAYjH,MAAOqC,EAASC,a,8CC9DjGY,GAAQC,aAAY,CACxBjP,KAAM,SACNkP,aAlBiB,CACjB+E,MAAO,GACPC,SAAS,EACTC,gBAAgB,EAChBC,aAAa,EACbC,cAAc,EACdC,QAAS,GACTC,WAAY,IAYZpF,SAAU,CACRqF,WADQ,SACGnF,GACT,OAAO,gBAAIA,EAAX,CAAkB4E,MAAO,GAAIK,QAAS,GAAIJ,SAAS,KAGrDO,aALQ,SAKKpF,GACX,OAAO,gBAAIA,EAAX,CAAkB4E,MAAO,GAAIK,QAAS,GAAIJ,SAAS,KAGrDQ,WATQ,SASGrF,EAAOE,GAChB,OAAO,gBAAIF,EAAX,CAAkB6E,SAAS,EAAOD,OAjBnBzE,EAiBsCD,EAAOC,QAhBzDA,GAHqB,oDAmB8C8E,QAAS,KAjBjE,IAAC9E,M,GA0BjBR,GAAMS,QAHR+E,G,GAAAA,WACAC,G,GAAAA,aACAC,G,GAAAA,WAGa1F,MAAf,Q,oBCrCe2F,GALA,CACbC,WAAYC,6CACZC,iBAAkBD,6BCEdE,GAAeJ,GAAOC,WAmBbI,GAJG,CAChB5F,QAdc,SAACe,GACf,IAAMnL,EAAG,UAAM+P,GAAN,0BAST,OAReE,KAAM,CACnBjQ,MACAkQ,OAAQ,OACRC,QAAS,CACP,eAAiB,oBAEnBC,KAAMjF,M,aCJAkF,I,aA2BAC,I,aAIeC,IA/BzB,SAAUF,GAAV,+EAOI,OAPsB7F,EAA1B,EAA0BA,QAA1B,kBAOUgG,aAAIhB,MAPd,OASmB,OATnB,SASyBiB,aAAKT,GAAW5F,QAASI,GATlD,OAoBI,OApBJ,SASW4F,EATX,EASWA,KATX,UAoBUI,aAAIlG,GAAe8F,IApB7B,QAqBI,OArBJ,UAqBUI,aAAIf,MArBd,gCAuBI,OAvBJ,oCAuBUe,aAAId,MAvBd,uDA2BA,SAAUY,KAAV,kEACE,OADF,SACQI,aAAWtG,GAASiG,IAD5B,wCAIe,SAAUE,KAAV,kEACb,OADa,SACPhF,aAAI,CACRoF,aAAKL,MAFM,wC,iBCtCUC,IAAV,SAAUA,GAASK,GAAnB,kEACb,OADa,SACPrF,aAAI,CACRsF,OAFW,wCCEf,IAKeC,GALW,kBAAMC,aAAgB,CAC9CC,OAAQC,GACR7G,QAAS8G,MCCI,SAASC,GAAeC,GACrC,IAAMC,EAAiBC,eACjBC,EAAQC,aACZV,KACAM,EACAK,aACEC,aACEL,KAMN,OADAA,EAAeM,IAAIpB,IACZgB,ECPT,IAAMK,GAAcT,KAoGLU,GAlGH,SAAC,GAAgB,IAAflH,EAAc,EAAdA,SAAc,EACkBzK,mBAAS,IAD3B,mBACnB4R,EADmB,KACHC,EADG,OAgDkB7R,mBAAS,GAhD3B,mBAgDnBkO,EAhDmB,KAgDHC,EAhDG,KAmF1B,OAlCA5L,qBAAU,WACR,GAAgB,MAAZkI,EAAJ,CAIA,IAAI6D,EAAW,IAAIC,kBAAiB,SAAUC,GAC5C,IAAMC,EAAS9R,IAEX8R,EAAOzH,SAAWkH,IACpBC,EAAkBM,EAAOzH,QAEzB6K,EAAkBpD,EAAOrK,KAAI,SAACwC,EAAOlB,GACnC,IAAM2L,EAAQJ,KACd,OACE,kBAAC,IAAD,CAAUI,MAAOA,EAAO/M,IAAKoB,GAC3B,kBAAC,GAAD,CAAsBpB,IAAKoB,EAAOkB,MAAOA,EAAO6D,SAAUA,aAcpE,OAPA6D,EAASI,QAAQ7R,SAASlC,KAAM,CAC9BmX,YAAY,EACZC,eAAe,EACfpD,WAAW,EACXC,SAAS,IAGJ,WACLN,EAASO,iBAEV,CAACX,EAAgBzD,IAGlB,kBAACjO,EAAD,CAAe3B,MAAOA,GACpB,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAK0J,GAAG,8BACLqN,GAEH,kBAAC,EAAD,CAAKrN,GAAG,iCACN,kBAAC,IAAD,CAAU8M,MAAOK,IACD,OAAbjH,EAAoB,kBAAC,GAAD,CAA4BA,SAAUA,IAAc,SC/F/DuH,QACW,cAA7BrR,OAAOC,SAASqR,UAEe,UAA7BtR,OAAOC,SAASqR,UAEhBtR,OAAOC,SAASqR,SAAS9T,MACvB,2DCdN,I,GAAM0R,GAAeJ,GAAOC,WAcbwC,GAJI,CACjBC,YATkB,WAClB,IAAIrS,EAAG,UAAM+P,GAAN,2BACP,OAAOE,KAAM,CACXjQ,MACAkQ,OAAQ,UCDNoC,GAAUvV,SAASwV,qBAAqB,U,eAC3BD,I,IAAnB,8BAA4B,CAAC,IAApBE,GAAmB,SAC1B,GAAIA,GAAO3O,KAAO2O,GAAO3O,IAAI4O,QAAQ9C,GAAOG,mBAAqB,EAAG,CAClE,IAAM9P,GAAM,IAAI0S,IAAIF,GAAO3O,KACrB8O,GAAS,IAAIC,gBAAgB5S,GAAI6S,QACvC5C,KAAM6C,SAAS3C,QAAQa,OAAvB,cAAiD,UAAY2B,GAAOI,IAAI,MACxE,Q,kCAKJX,GAAWC,cAAcW,MAAK,SAAAC,GAAa,IAClC7C,EAAQ6C,EAAR7C,KAED8C,EAAkBnW,SAASoW,cAAc,OAC/CD,EAAgBE,aAAa,KAAM,wCAEnCrW,SAASlC,KAAKwY,YAAYH,GAE1BI,IAASC,OAAO,kBAAC,GAAD,CAAK5I,SAAUyF,IAAS8C,GFuGpC,kBAAmBM,WACrBA,UAAUC,cAAcC,MAAMV,MAAK,SAAAW,GACjCA,EAAaC,mBElGhBC,OAAM,SAAA5E,GAAK,OAAI1N,QAAQC,IAAR,8BAAmCyN,S","file":"static/js/main.8f6701e6.chunk.js","sourcesContent":["/* eslint-disable prefer-destructuring */\n/**\n * This is our custom theme where we define global styles.\n * It should serve as a guideline for styling, but not all styles *have* to be taken from here.\n */\nconst breakpoints = ['576px', '768px', '992px', '1200px'];\n\n//  Aliases\nbreakpoints.sm = breakpoints[0];\nbreakpoints.md = breakpoints[1];\nbreakpoints.lg = breakpoints[2];\nbreakpoints.xl = breakpoints[3];\n\n/**\n * Primary: Colors to use for actionable items, such as links, buttons etc.\n * Grey: Colors for items that are not that important\n */\nconst colors = {\n  background: 'hsl(0, 0%, 100%)',\n  white: 'hsl(0, 0%, 100%)',\n  black: 'hsl(0, 0%, 0%)',\n  grey: [\n    'hsl(0, 0%, 93%)',\n    'hsl(0, 0%, 60%)',\n  ],\n  // primary: {\n  //   100: 'hsl(0, 0%, 93%)',\n  //   200: 'hsl(0, 0%, 60%)',\n  // },\n  bodyText: 'hsl(207, 7%, 26%)',\n  // mobileInstantSearchBg: 'rgba(245, 245, 245, 0.6)'\n  mobileInstantSearchBg: 'hsla(0, 0%, 100%, 0.6)',\n};\n\n/**\n * Space is used for margin and padding scales.\n * It's recommended to use powers of two to ensure alignment across the entire project\n */\nconst space = [\n  '0',\n  '4px',\n  '8px',\n  '16px',\n  '32px',\n  '64px',\n  '128px',\n  '256px',\n  '512px',\n];\n// mobile instant search top = sizes[0] + 2*space[2] - 6px\nspace.mobileInstantSearchPt = '50px';\n\n/**\n * Typographic scale\n */\nconst fontSizes = [\n  '12px',\n  '14px',\n  '16px',\n  '20px',\n  '24px',\n  '32px',\n  '48px',\n  '64px',\n  '96px',\n  '128px',\n];\nfontSizes.body = fontSizes[2];\nfontSizes.label = fontSizes[1];\n\nconst lineHeights = [1, 1.125, 1.25, 1.5];\n\nconst fontWeights = {\n  light: 300,\n  normal: 400,\n  bold: 600,\n};\n\n/**\n * Letter-spacing should vary, depending on usage of text\n */\nconst letterSpacings = {\n  normal: 'normal',\n  caps: '0.25em',\n  labels: '0.05em',\n};\n\n/**\n * Border-radius\n */\nconst radii = ['0', '2px', '4px', '8px', '16px'];\n\n/**\n * Sizes\n */\nconst sizes = [\n  '40px',\n  '48px',\n  '500px'\n];\n\n/**\n * Borders\n */\nconst borders = [\n  0,\n  \"1px solid #e2e2e2\",\n];\n\n/**\n * Shadow\n */\nconst shadows = {\n  \"instantSearch\": \"0 2px 10px 0 rgba(74, 73, 74, 0.2)\"\n};\n\n/**\n * z-index\n */\nconst zIndices = [\n  \"0\",\n  \"2147483645\",\n  \"2147483646\",\n  \"2147483647\",\n];\n\n/**\n * instant search widget fix properties\n */\nconst instantSearchWidgetProps = {\n  width: 500,\n};\n\nexport const theme = {\n  name: 'Default',\n  breakpoints,\n  colors,\n  space,\n  fontSizes,\n  lineHeights,\n  fontWeights,\n  letterSpacings,\n  radii,\n  sizes,\n  borders,\n  shadows,\n  zIndices,\n  instantSearchWidgetProps,\n};\n","import * as styledComponents from 'styled-components';\nimport { theme } from './theme';\n\nconst {\n  default: styled,\n  createGlobalStyle,\n  ThemeProvider,\n  ThemeContext,\n} = styledComponents;\n\nexport {\n  createGlobalStyle,\n  ThemeProvider,\n  ThemeContext,\n  theme,\n}\n\nexport * from 'styled-system';\nexport default styled;\n","import { createGlobalStyle } from './index';\n\nconst GlobalStyles = createGlobalStyle`\n  * {\n    box-sizing: border-box;\n  }\n`;\n\nexport default GlobalStyles;\n","const getInputs = () => {\n  const result = [];\n  document.querySelectorAll('form[action=\"/search\"]').forEach(el => {\n    result.push(el.querySelector('input[name=\"q\"]'));\n  });\n  return result;\n};\n\nconst getInstantSearchPosition = (input, widgetWidth) => {\n  // Get input position and size\n  const inputRect = input.getBoundingClientRect();\n\n  // Calculate top\n  const top = inputRect.top + inputRect.height;\n\n  // Calculate left\n  let left = 0;\n  if (window.innerWidth - inputRect.left < widgetWidth) {\n    left = inputRect.left - (widgetWidth - inputRect.width);\n  } else {\n    left = inputRect.left;\n  }\n\n  // minus 8px to help customers recoginze that there are more results,\n  // want to see more, scroll down\n  const maxHeight = window.innerHeight - top - 8;\n\n  return { top, left, maxHeight };\n};\n\n// eslint-disable-next-line no-template-curly-in-string\nconst formatMoney = (cents, format = '${{amount}}') => {\n  if (typeof cents === \"string\") {\n    cents = cents.replace(\".\", \"\");\n  }\n  let value = \"\";\n  const placeholderRegex = /\\{\\{\\s*(\\w+)\\s*\\}\\}/;\n  const formatString = format;\n\n  function formatWithDelimiters(number, precision, thousands, decimal) {\n    thousands = thousands || \",\";\n    decimal = decimal || \".\";\n\n    if (isNaN(number) || number === null) {\n      return 0;\n    }\n\n    number = (number / 100.0).toFixed(precision);\n\n    const parts = number.split(\".\");\n    const dollarsAmount = parts[0].replace(\n      /(\\d)(?=(\\d\\d\\d)+(?!\\d))/g,\n      \"$1\" + thousands\n    );\n    const centsAmount = parts[1] ? decimal + parts[1] : \"\";\n\n    return dollarsAmount + centsAmount;\n  }\n\n  switch (formatString.match(placeholderRegex)[1]) {\n    case \"amount\":\n      value = formatWithDelimiters(cents, 2);\n      break;\n    case \"amount_no_decimals\":\n      value = formatWithDelimiters(cents, 0);\n      break;\n    case \"amount_with_comma_separator\":\n      value = formatWithDelimiters(cents, 2, \".\", \",\");\n      break;\n    case \"amount_no_decimals_with_comma_separator\":\n      value = formatWithDelimiters(cents, 0, \".\", \",\");\n      break;\n    case \"amount_no_decimals_with_space_separator\":\n      value = formatWithDelimiters(cents, 0, \" \");\n      break;\n    case \"amount_with_apostrophe_separator\":\n      value = formatWithDelimiters(cents, 2, \"'\");\n      break;\n    default:\n      value = formatWithDelimiters(cents, 2);\n      break;\n  }\n\n  return formatString.replace(placeholderRegex, value);\n};\n\nexport { getInputs, getInstantSearchPosition, formatMoney };\n","// import styled from \"styled-components\";\n// import { color, space, layout } from \"styled-system\";\nimport styled, { color, space, layout, border, background, position } from '../../style';\n\nconst Box = styled.div`\n  ${space}\n  ${color}\n  ${layout}\n  ${border}\n  ${background}\n  ${position}\n`;\n\nexport default Box;\n","import styled, { flexbox } from \"../../style\";\nimport Box from \"./Box\";\n\n\nconst Flex = styled(Box)`\n  ${flexbox}\n`;\n\n// Flex.displayName = `Flex`;\n\nFlex.defaultProps = {\n  display: `flex`,\n}\n\nexport default Flex;\n","import styled, { shadow } from '../../style';\nimport Box from './Box';\n\nconst BoxShadow = styled(Box)`\n  ${shadow}\n`\nexport default BoxShadow;\n","\nimport styled, { typography, system } from \"../../style\";\nimport { Box } from \"../Grid\";\nimport React, { forwardRef } from \"react\";\n\nconst textDecoration = system({\n  textDecoration: {\n    property: 'textDecoration',\n  }\n})\n\nconst StyledLink = styled(Box)`\n  /* text-decoration: none; */\n  outline: none;\n  ${typography}\n  ${textDecoration}\n`;\n\nconst Link = forwardRef((props, ref) =>\n  <StyledLink ref={ref} as=\"a\" textDecoration=\"none\" { ...props } />\n)\n\nexport default Link;\n","import React, {useState, useCallback} from 'react';\n\nimport styled from \"styled-components\";\nimport { Flex } from '../Grid';\n\n// const StyledItem = styled.li`\n//   display: flex;\n//   align-items: center;\n//   margin-bottom: 1em;\n//   font-weight: normal;\n//   cursor: pointer;\n//   border-top-left-radius:2px;\n//   border-top-right-radius:2px;\n\n//   border-color: ${props => props.borderColor};\n//   background-color: ${props => props.backgroundColor};\n// `;\n\nconst StyledItem = styled(Flex)`\n  cursor: pointer;\n`;\n\nconst Item = props => {\n  const { className, children, url, ...rest } = props;\n\n  // Handle events\n  const [active, setActive] = useState(false);\n\n  const handleOnMouseOver = useCallback(() => {\n    setActive(true);\n  }, []);\n  const handleOnMouseLeave = useCallback(() => {\n    setActive(false);\n  }, []);\n\n  const handleOnMouseDown = useCallback(\n    e => {\n      e.preventDefault();\n      if (e.nativeEvent.which === 1) {\n        window.location.href=url;\n      }\n    },\n    [url]\n  );\n\n  return <StyledItem\n    alignItems=\"center\"\n    py={2}\n    bg={active ? \"grey.0\": null}\n    className={className}\n    onMouseDown={handleOnMouseDown}\n    onMouseOver={handleOnMouseOver}\n    onMouseLeave={handleOnMouseLeave}\n    onKeyDown={() => {console.log(\"Key down\")}} onkeyup={() => {console.log(\"Key up\")}}\n    { ...rest }\n  >\n    {children}\n  </StyledItem>\n}\n\nexport default Item;\n","import React, { forwardRef } from \"react\";\n\nimport { Box } from \"../Grid\";\nimport styled, { typography, system } from \"../../style\";\n\nconst StyledText = styled(Box)`\n  ${typography}\n  ${system({wordWrap: true})}\n  ${system({textDecoration: true})}\n`;\n\nconst Text = forwardRef((props, ref) =>\n  <StyledText\n    ref={ref}\n    fontSize=\"body\"\n    fontWeight=\"normal\"\n    color=\"bodyText\"\n    wordWrap=\"break-word\"\n    { ...props }\n  />\n);\n\nexport default Text;\n","import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Link from \"../Link\";\nimport Item from \"./Item\";\nimport { Box } from \"../Grid\";\nimport Text from \"../Text\";\nimport { formatMoney } from \"../../utils\";\n\nconst Detail = styled.div``;\n\nconst Product = props => {\n  const { title, featuredImage, priceMin, compareAtPriceMin } = props;\n\n  // Get currency, money format from Shopify object\n  const [currency, setCurrency] = useState(\"USD\");\n  const [moneyFormat, setMoneyFormat] = useState(\"\");\n  useEffect(() => {\n    // eslint-disable-next-line no-unused-expressions\n    // eslint-disable-next-line no-undef\n    setCurrency(Shopify.currency.active);\n    try {\n      // eslint-disable-next-line no-undef\n      setMoneyFormat(theme.moneyFormat);\n    } catch (e) {}\n  }, []);\n\n  // Format price with currency\n  const [formattedPrice, setFormattedPrice] = useState(0.00);\n  const [formattedCpaPrice, setFormattedCpaPrice] = useState(0.00);\n  useEffect(() => {\n    if (moneyFormat) {\n      setFormattedPrice(formatMoney(parseFloat(priceMin).toFixed(2), moneyFormat));\n      setFormattedCpaPrice(formatMoney(parseFloat(compareAtPriceMin).toFixed(2), moneyFormat));\n    } else {\n      const priceFormatter = new Intl.NumberFormat(undefined, {\n        style: \"currency\",\n        currency: currency\n      });\n      setFormattedPrice(priceFormatter.format(priceMin));\n      setFormattedCpaPrice(priceFormatter.format(compareAtPriceMin));\n    }\n  }, [compareAtPriceMin, currency, moneyFormat, priceMin]);\n\n  const PriceMarkup = priceMin ? <Text as=\"span\" fontWeight=\"bold\">{formattedPrice}</Text> : null;\n  const compareAtPriceMarkup = compareAtPriceMin ? (\n    <Text as=\"span\" textDecoration=\"line-through\" color=\"grey.1\" mr={1}>{formattedCpaPrice}</Text>\n  ) : null;\n\n  return (\n    <Item url={props.url}>\n      <Link\n        href={props.url}\n        title={title}\n        minWidth={1}\n        minHeight={1}\n        marginRight={3}\n      >\n        <Box\n          as=\"img\"\n          maxWidth={1}\n          maxHeight={1}\n          src={featuredImage.originalSrc}\n          alt=\"\"\n        />\n      </Link>\n      <Detail>\n        <Text mb={1}>{title}</Text>\n        <Box>\n          {compareAtPriceMarkup}\n          {PriceMarkup}\n        </Box>\n      </Detail>\n    </Item>\n  );\n};\n\nexport default Product;\n","import React, { forwardRef } from \"react\";\n\nimport Text from \"../Text\";\n\nconst Label = forwardRef((props, ref) => (\n  <Text ref={ref} textAlign=\"right\" color=\"grey.1\" fontSize=\"label\" mb={2} { ...props } />\n));\n\nexport default Label;\n","import React from \"react\";\n\nimport Product from \"./Product\";\nimport {Box} from \"../Grid\";\nimport Label from \"./Label\";\n\nconst Products = props => {\n  const {products} = props;\n  return (\n    <>\n      <Label mt={2}>PRODUCTS</Label>\n      <Box>\n        {products.map(product => (\n          <Product {...product} key={product.id}/>\n        ))}\n      </Box>\n    </>\n  );\n};\n\nexport default Products;\n","import React, { useContext } from \"react\";\nimport styled, { ThemeContext } from \"../../style\";\nimport Highlighter from \"react-highlight-words\";\nimport Text from \"../Text\";\n\nconst Highlight = ({ children, highlightIndex }) => (\n  <span>{children}</span>\n);\n\nconst StyledHighlightText = styled(Text)`\n  & .flashsearch-unhighlight-text {\n    font-weight: ${props => props.unhighlightFontWeight}\n  }\n`;\n\nconst HighlightText = props => {\n  const { searchWord, textToHighlight, className } = props;\n  const themeContext = useContext(ThemeContext);\n  return (\n    <StyledHighlightText className={className} unhighlightFontWeight={themeContext.fontWeights.bold}>\n      <Highlighter\n        searchWords={[searchWord]}\n        autoEscape={true}\n        textToHighlight={textToHighlight}\n        highlightStyle={{color: \"inherit\"}}\n        unhighlightClassName=\"flashsearch-unhighlight-text\"\n        highlightTag={Highlight}\n      />\n    </StyledHighlightText>\n  );\n}\n\nexport default HighlightText;\n","import React from \"react\";\nimport Item from \"./Item\";\nimport {Box} from \"../Grid\";\nimport Link from \"../Link\";\nimport HighlightText from \"../HighlightText\";\nimport Label from \"./Label\";\n\nconst Suggestions = props => {\n  const {suggestions, query} = props;\n\n  return (\n    <>\n      <Label>POPULAR SUGGESTIONS</Label>\n      <Box>\n        {suggestions.map((suggestion, index) => (\n          <Item url={`/search?q=${suggestion}`} key={index.toString()}>\n            <Link href={`/search?q=${suggestion}`}>\n              <HighlightText\n                searchWord={query}\n                textToHighlight={suggestion}\n              />\n            </Link>\n          </Item>\n        ))}\n      </Box>\n    </>\n  );\n};\n\nexport default Suggestions;\n","import React from 'react';\n\nimport Item from \"./Item\";\nimport Text from '../Text';\n\nconst ViewAllResult = props => {\n  const {query} = props;\n  return (\n    <Item url={`/search?q=${query}`} justifyContent=\"center\">\n      {/*<Text textAlign=\"center\" fontWeight=\"bold\" color=\"grey.1\">View all results for </Text>*/}\n      <Text textAlign=\"center\">\n        <Text as=\"span\" color=\"grey.1\">View all results for </Text> <Text as=\"span\" fontWeight=\"bold\">{query}</Text>\n      </Text>\n    </Item>\n  );\n};\n\nexport default ViewAllResult;\n","import React from \"react\";\nimport Item from \"./Item\";\nimport {Box} from \"../Grid\";\nimport Link from \"../Link\";\nimport HighlightText from \"../HighlightText\";\nimport Label from \"./Label\";\n\nconst Collections = props => {\n  const {collections, query} = props;\n  return (\n    <>\n      <Label mt={2}>COLLECTIONS</Label>\n      <Box>\n        {collections.map((collection, index) => (\n          <Item url={`/collections/${collection.handle}`} key={index.toString()}>\n            <Link href={`/collections/${collection.handle}`}>\n              <HighlightText\n                searchWord={query}\n                textToHighlight={collection.title}\n              />\n            </Link>\n          </Item>\n        ))}\n      </Box>\n    </>\n  );\n};\n\nexport default Collections;\n","import React from \"react\";\nimport Item from \"./Item\";\nimport {Box} from \"../Grid\";\nimport Link from \"../Link\";\nimport HighlightText from \"../HighlightText\";\nimport Label from \"./Label\";\n\nconst Pages = props => {\n  const {pages, query} = props;\n  return (\n    <>\n      <Label mt={2}>PAGES</Label>\n      <Box>\n        {pages.map((page, index) => (\n          <Item url={`/pages/${page.handle}`} key={index.toString()}>\n            <Link href={`/pages/${page.handle}`}>\n              <HighlightText\n                searchWord={query}\n                textToHighlight={page.title}\n              />\n            </Link>\n          </Item>\n        ))}\n      </Box>\n    </>\n  );\n};\n\nexport default Pages;\n","import React from \"react\";\nimport Products from \"./Products\";\nimport Suggestions from \"./Suggestions\";\nimport {Box, BoxShadow} from \"../Grid\";\nimport Text from \"../Text\";\nimport ViewAllResult from \"./ViewAllResults\";\nimport styled from \"../../style\";\nimport Collections from \"./Collections\";\nimport Pages from \"./Pages\";\n\nconst StyledWrapper = styled(BoxShadow)`\n  overscroll-behavior-y: contain;\n`;\n\nconst InstantSearch = props => {\n  const {\n    suggestions, collections, pages, products, didYouMean, productPerPage,\n    query, enable,\n    // position\n    top, left, maxHeight,\n    input,\n    redirect,\n  } = props;\n\n  const DidYouMeanWrapper = styled(Box)`\ncursor: pointer;\n`;\n\n  const handleClickDidYouMean = (e) => {\n    e.stopPropagation();\n    e.preventDefault();\n    const event = new Event('input', {\n      'bubbles': true,\n      'cancelable': true\n    });\n    input.value = didYouMean;\n    input.dispatchEvent(event);\n  };\n\n  const suggestionMarkup = suggestions && suggestions.length > 0 ? (\n    <Suggestions suggestions={suggestions} query={query}/>\n  ) : null;\n\n  const collectionMarkup = collections && collections.length > 0 ? (\n    <Collections collections={collections} query={query}/>\n  ) : null;\n\n  const pageMarkup = pages && pages.length > 0 ? (\n    <Pages pages={pages} query={query}/>\n  ) : null;\n\n  // did you mean markup\n  const didYouMeanMarkup = didYouMean ? (\n    <Text textAlign=\"center\" py={2}>\n      Sorry, nothing found for <Text as=\"span\" fontWeight=\"bold\">{query}</Text>.&nbsp;\n      Did you mean: <DidYouMeanWrapper\n      as=\"span\" cursor=\"pointer\" bg=\"grey.0\" px={2} py={1} borderRadius={4}\n      onClick={handleClickDidYouMean}\n      onMouseDown={(e) => e.preventDefault()}\n    >\n      <Text\n        as=\"span\">{didYouMean}</Text></DidYouMeanWrapper> ?\n    </Text>\n  ) : null;\n\n  const productMarkup = products && products.length > 0 ? (\n    <Products products={products}/>\n  ) : null;\n\n  const notFoundMarkup = enable\n  && suggestionMarkup === null\n  && collectionMarkup === null\n  && pageMarkup === null\n  && didYouMeanMarkup === null\n  && productMarkup === null ? (\n    <Text>\n      Sorry, nothing found for <Text as=\"span\" fontWeight=\"bold\">\"{query}\"</Text>\n    </Text>\n  ) : null;\n\n  // View all results markup\n  const viewAllResultMarkup = ((products.length === productPerPage) && query) ? (\n    <ViewAllResult query={query}/>\n  ) : null;\n\n  const enableWidget = enable && (\n    notFoundMarkup === null || (!(query in redirect))\n  )\n\n  return (\n    <StyledWrapper\n      bg=\"background\"\n      position=\"fixed\"\n      overflow=\"auto\"\n      boxShadow=\"instantSearch\"\n\n      border={[\"none\", \"none\", 1, 1]}\n      borderRadius={[0, 0, 1, 1]}\n      zIndex={2}\n      display={enableWidget ? \"block\" : \"none\"}\n      top={['6px', '6px', `${top}px`, `${top}px`]}\n      left={[0, 0, `${left}px`, `${left}px`]}\n      pt={[\"mobileInstantSearchPt\", \"mobileInstantSearchPt\", 0, 0]}\n      width={[\"100%\", \"100%\", 2, 2]}\n      maxHeight={[\"calc(100% - 6px)\", \"calc(100% - 6px)\", `${maxHeight}px`, `${maxHeight}px`]}\n      onTouchMove={() => document.activeElement.blur()}\n    >\n      <Box m={[3, 3, 4, 4]} mb={[3, 3]} mt={[2, 2]}>\n        {suggestionMarkup}\n        {collectionMarkup}\n        {pageMarkup}\n        {didYouMeanMarkup}\n        {productMarkup}\n        {notFoundMarkup}\n        {viewAllResultMarkup}\n      </Box>\n    </StyledWrapper>\n  );\n};\n\nexport default InstantSearch;\n","import React from \"react\";\n\nimport styled, { typography, system } from \"../../style\";\nimport { Box } from \"../Grid\";\nimport { forwardRef } from \"react\";\n\nconst StyledInput = styled(Box)`\n  ${typography}\n  ${system({outline: true})}\n  box-sizing: border-box;\n  touch-action: manipulation;\n  background-repeat: none;\n  ::-webkit-search-cancel-button {\n    -webkit-appearance: none;\n      border: 1px solid var(--colorHighlightBg) !important;\n      border-radius: var(--radius);\n      font-size: 16px;\n      display: block;\n      height:  16px;\n      width:  16px;\n      background-repeat: no-repeat;\n      background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 352 512'%3E%3Cpath d='M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z'/%3E%3C/svg%3E\");\n      background-size: contain;\n      color: red;\n  }\n`;\n\nconst Input = forwardRef((props, ref) => (\n  <StyledInput\n    as=\"input\"\n    ref={ref}\n    outline=\"none\"\n    border=\"none\"\n    fontSize=\"body\"\n    {...props}\n  />\n));\n\nexport default Input;\n","import React, {useEffect} from \"react\";\nimport {Box, Flex} from \"../Grid\";\nimport styled, {system} from \"../../style\";\nimport Input from \"../Input\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faArrowLeft} from \"@fortawesome/free-solid-svg-icons\";\n\nconst Background = styled(Box)`\n  ${system({backdropFilter: true})}\n`;\n\nconst InputWrapper = styled(Flex)`\n  ${system({backdropFilter: true})}\n`;\n\nconst MobileSearchBar = props => {\n  const {placeholder, enable, handleOnClickBack, inputRef, ...rest} = props;\n\n  // const inputRef = useRef();\n  //\n  useEffect(() => {\n    if (inputRef && inputRef.current) {\n      inputRef.current.focus();\n    }\n  });\n\n  return (\n    <Box display={[enable ? \"block\" : \"none\", enable ? \"block\" : \"none\", \"none\", \"none\"]}>\n      <Background\n        top={0}\n        left={0}\n        width=\"100%\"\n        height=\"100vh\"\n        bg=\"mobileInstantSearchBg\"\n        backdropFilter=\"blur(10px)\"\n        zIndex={1}\n        position=\"fixed\"\n      />\n\n      <InputWrapper\n        top={0}\n        left={0}\n        width=\"100%\"\n        zIndex={3}\n        position=\"fixed\"\n        alignItems=\"center\"\n        justifyContent=\"flex-end\"\n        bg=\"mobileInstantSearchBg\"\n        backdropFilter=\"blur(10px)\"\n      >\n        <Flex height={0} alignContent=\"center\" flexWrap=\"wrap\" cursor=\"pointer\" ml={3} onClick={handleOnClickBack}>\n          <FontAwesomeIcon icon={faArrowLeft}/>\n        </Flex>\n        <Flex display=\"block\" flexGrow=\"1\" position=\"relative\" ml={3} mr={2} my={2}>\n          <Box as=\"form\">\n            <Input\n              ref={inputRef}\n              type=\"search\"\n              autoComplete=\"off\"\n              placeholder={placeholder}\n              bg=\"grey.0\"\n              px={3}\n              py={2}\n              width=\"100%\"\n              height={0}\n              {...rest}\n            />\n          </Box>\n        </Flex>\n      </InputWrapper>\n    </Box>\n  );\n};\n\nMobileSearchBar.defaultProps = {\n  placeholder: \"Search\"\n};\n\nexport default MobileSearchBar;\n","import {createSlice} from \"@reduxjs/toolkit\";\n\nconst INIT_STATE = {\n  collections: [],\n  didYouMean: \"\",\n  pages: [],\n  productPerPage: 0,\n  products: [],\n  query: \"\",\n  suggestions: [],\n};\n\nconst slice = createSlice({\n  name: \"suggest\",\n  initialState: INIT_STATE,\n  reducers: {\n    suggest(state) { return state},\n\n    suggestSuccess(state, action) {\n      return {...state, ...action.payload}\n    },\n  }\n});\n\nexport const {suggest, suggestSuccess} = slice.actions;\n\nexport default slice.reducer;\n","const buildMerchandisingRules = (rules) => {\n  return rules;\n};\n\nconst buildDefaultSearchFields = (searchFields) => {\n  return searchFields.map(field => {\n    return {name: field.name, weight: field.weight}\n  });\n};\n\nconst buildSearchBodyData = (settings, q) => {\n  const {\n    pinnedProducts, merchandisingRules, synonyms,\n    defaultSearchFields, metafieldSearchFields,\n    variantMetafieldSearchFields\n  } = settings;\n\n  const bodyData = {\"q\": q};\n\n  // Pinned products\n  if (settings && pinnedProducts) {\n    if (q in pinnedProducts.applyToAll) {\n      bodyData[\"pinnedProducts\"] = pinnedProducts.applyToAll[q];\n    } else if (q in pinnedProducts.applyToInstantSearch) {\n      bodyData[\"pinnedProducts\"] = pinnedProducts.applyToInstantSearch[q];\n    }\n  }\n\n  // Merchandising\n  let merchandisingRulesResult = [];\n\n  if (settings && merchandisingRules) {\n    // Apply to all (instant search, search results)\n    // If apply to all queries\n    if (merchandisingRules.applyToAll) {\n      if (merchandisingRules.applyToAll.all && merchandisingRules.applyToAll.all.length > 0) {\n        merchandisingRulesResult = [...merchandisingRulesResult, ...buildMerchandisingRules(merchandisingRules.applyToAll.all)];\n      }\n\n      // If apply to specific query\n      if (q in merchandisingRules.applyToAll.specific) {\n        merchandisingRulesResult = [...merchandisingRulesResult, ...buildMerchandisingRules(merchandisingRules.applyToAll.specific[q])];\n      }\n    }\n\n    // Apply to instant search\n    if (merchandisingRules.applyToInstantSearch) {\n      // If apply to all queries\n      if (merchandisingRules.applyToInstantSearch.all && merchandisingRules.applyToInstantSearch.all.length > 0) {\n        merchandisingRulesResult = [...merchandisingRulesResult, ...buildMerchandisingRules(merchandisingRules.applyToInstantSearch.all)];\n      }\n\n      // If apply to specific query\n      if (q in merchandisingRules.applyToInstantSearch.specific) {\n        merchandisingRulesResult = [...merchandisingRulesResult, ...buildMerchandisingRules(merchandisingRules.applyToInstantSearch.specific[q])]\n      }\n    }\n  }\n\n  if (merchandisingRulesResult.length > 0) {\n    bodyData[\"merchandisingRules\"] = merchandisingRulesResult;\n  }\n\n  // Synonyms\n  if (synonyms && synonyms.analyzer !== \"\") {\n    bodyData[\"synonymsAnalyzer\"] = synonyms.analyzer;\n  }\n\n  // Default search fields\n  if (defaultSearchFields) {\n    bodyData[\"defaultSearchFields\"] = buildDefaultSearchFields(defaultSearchFields);\n  }\n\n  // Metafield search field\n  if (metafieldSearchFields) {\n    bodyData[\"metafieldSearchFields\"] = metafieldSearchFields;\n  }\n\n  // Variant metafield search field\n  if (variantMetafieldSearchFields) {\n    bodyData[\"variantMetafieldSearchFields\"] = variantMetafieldSearchFields;\n  }\n\n  return bodyData;\n};\n\nexport default buildSearchBodyData;\n","import {suggest} from \"../appRedux/slices/Suggest\";\nimport {useDispatch} from \"react-redux\";\nimport {useCallback} from \"react\";\nimport buildSearchBodyData from \"./searchBodyDataBuilder\";\n\nconst useHandleInput = (settings) => {\n  const dispatch = useDispatch();\n\n\n  const handleOnInput = useCallback(e => {\n    const {usageStatus} = settings;\n    // Check whether instant search feature disabled or enabled\n    const {allFeatures, instantSearch} = usageStatus;\n    if (!allFeatures || !instantSearch) {\n      return;\n    }\n\n    // Set query\n    const q = e.target.value.trim();\n    if (!q) {\n      return\n    }\n\n    const bodyData = buildSearchBodyData(settings, q);\n\n    dispatch(suggest(bodyData));\n\n  }, [dispatch, settings]);\n\n  const handleOnKeyDown = useCallback((e) => {\n    const {usageStatus, redirect} = settings;\n    // Check whether instant search feature disabled or enabled\n    const {allFeatures, instantSearch} = usageStatus;\n    if (!allFeatures || !instantSearch) {\n      return;\n    }\n\n    // Redirect\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n\n      const q = e.target.value.trim();\n\n      // If in redirect\n      if (q in redirect) {\n        window.location = redirect[q];\n\n        // If not, redirect to normal search page\n      } else {\n        window.location = \"/search?q=\" + q\n      }\n    }\n  }, [settings]);\n\n  return {handleOnInput, handleOnKeyDown}\n};\n\nexport default useHandleInput;\n","const {useEffect} = require(\"react\");\nconst {useRef} = require(\"react\");\n\nfunction useEventListener(eventName, handler, element = window) {\n  // Create a ref that stores handler\n  const savedHandler = useRef();\n\n  // Update ref.current value if handler changes.\n  // This allows our effect below to always get latest handler ...\n  // ... without us needing to pass it in effect deps array ...\n  // ... and potentially cause effect to re-run every render.\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(\n    () => {\n      // Make sure element supports addEventListener\n      // On\n      const isSupported = element && element.addEventListener;\n      if (!isSupported) return;\n\n      // Create event listener that calls handler function stored in ref\n      const eventListener = event => savedHandler.current(event);\n\n      // Add event listener\n      element.addEventListener(eventName, eventListener);\n\n      // Remove event listener on cleanup\n      return () => {\n        element.removeEventListener(eventName, eventListener);\n      };\n    },\n    [eventName, element] // Re-run if eventName or element changes\n  );\n}\n\nexport default useEventListener;\n","import React, {useState, useEffect, useCallback, useContext} from \"react\";\nimport {useSelector} from \"react-redux\";\nimport {InstantSearch} from \"./components\";\nimport {getInstantSearchPosition} from \"./utils\";\nimport {ThemeContext} from \"styled-components\";\nimport useHandleInput from \"./hooks/useHandleInput\";\nimport useEventListener from \"./hooks/useEventListener\";\n\nconst InstantSearchWrapper = props => {\n  const {input, settings} = props;\n  const [position, setPosition] = useState({top: 0, left: 0, maxHeight: 0});\n  const [enable, setEnable] = useState(false);\n  const themeContext = useContext(ThemeContext);\n  const [widgetWidth, setWidgetWidth] = useState(0);\n\n  const suggestData = useSelector(({suggest}) => suggest);\n  const {query} = suggestData;\n\n  // handler when user typing\n  const {handleOnInput, handleOnKeyDown} = useHandleInput(settings);\n\n\n  // // Handle when use touch to result (Only for mobile)\n  // const handleOnTouchMove = useCallback(() => {\n  //   // input.blur();\n  //   document.activeElement.blur();\n  // }, [input]);\n\n  // Get instant search widget width from theme\n  useEffect(() => {\n    setWidgetWidth(themeContext.instantSearchWidgetProps.width);\n  }, [themeContext.instantSearchWidgetProps]);\n\n  // Calculate instant search widget position if window resize or user typing\n  const calculateWidgetPosition = useCallback(() => {\n    // Calculate Widget position based on Input position\n    const {top, left, maxHeight} = getInstantSearchPosition(input, widgetWidth);\n    setPosition({top, left, maxHeight});\n\n  }, [input, widgetWidth]);\n\n  useEventListener(\"resize\", calculateWidgetPosition, window);\n  useEventListener(\"input\", calculateWidgetPosition, input);\n\n  // To handle show or hide instant search when user focus or blur to input\n  const handleShowWidget = useCallback(eventType => {\n    return () => {\n      // Hide results list & show other elemennts\n      if (eventType === \"blur\") {\n        setEnable(false);\n      } else if (eventType === \"focus\") {\n        setEnable(true);\n      }\n    };\n  }, []);\n\n  useEventListener(\"input\", handleOnInput, input);\n  useEventListener(\"keydown\", handleOnKeyDown, input);\n  useEventListener(\"focus\", handleShowWidget(\"focus\"), input);\n  useEventListener(\"blur\", handleShowWidget(\"blur\"), input);\n\n  const showWidget =\n    enable &&\n    query;\n\n  return <InstantSearch {...suggestData} redirect={settings.redirect} enable={showWidget} {...position} input={input}/>;\n};\n\nexport default InstantSearchWrapper;\n","import React, {useState, useCallback, useEffect, useRef} from \"react\";\nimport {useSelector} from \"react-redux\";\n\nimport {InstantSearch, MobileSearchBar} from \"./components\";\nimport {getInputs} from \"./utils\";\nimport useHandleInput from \"./hooks/useHandleInput\";\n\nconst MobileInstantSearchWrapper = ({settings}) => {\n  const [enable, setEnable] = useState(false);\n  const [enableSearchBar, setEnableSearchBar] = useState(false);\n\n  const suggestData = useSelector(({suggest}) => suggest);\n  const {query} = suggestData;\n\n  // handler when user typing\n  const {handleOnInput, handleOnKeyDown} = useHandleInput(settings);\n\n  // To handle hide mobile instant search dropdown and search bar\n  // when user click back button\n  const handleOnClickBack = useCallback(() => {\n    setEnable(false);\n    setEnableSearchBar(false);\n  }, []);\n\n  // To handle show mobile instant search dropdown and search bar\n  // when user focus on theme's inputs\n  const handleOnInputFocus = e => {\n    setEnableSearchBar(true);\n    setEnable(true);\n  };\n  const [oldInputLength, setOldInputLength] = useState(0);\n  const [currentInputs, setCurrentInputs] = useState();\n  useEffect(() => {\n    const observer = new MutationObserver(function (mutations) {\n      const inputs = getInputs();\n\n      if (inputs.length !== oldInputLength) {\n        setOldInputLength(inputs.length);\n        setCurrentInputs(inputs);\n\n        inputs.forEach(input => {\n          input.addEventListener(\"focus\", handleOnInputFocus);\n        });\n        return () => {\n          inputs.forEach(input => {\n            input.removeEventListener(\"focus\", handleOnInputFocus);\n          })\n        };\n      }\n    });\n    observer.observe(document.body, {\n      childList: true,\n      subtree: true\n    });\n\n    return () => {\n      observer.disconnect();\n      if (currentInputs) {\n        currentInputs.forEach(input => {\n          input.removeEventListener(\"focus\", handleOnInputFocus);\n        })\n      }\n    }\n  }, [currentInputs, oldInputLength]);\n\n  const inputRef = useRef();\n\n  const showWidget =\n    enable &&\n    query;\n\n  return (\n    <>\n      <MobileSearchBar\n        inputRef={inputRef}\n        onInput={handleOnInput}\n        onKeyDown={handleOnKeyDown}\n        enable={enableSearchBar}\n        handleOnClickBack={handleOnClickBack}\n      />\n      <InstantSearch {...suggestData} redirect={settings.redirect} enable={showWidget} input={inputRef.current}/>\n    </>\n  );\n};\n\nexport default MobileInstantSearchWrapper;\n","import {createSlice} from \"@reduxjs/toolkit\";\n\nconst INIT_STATE = {\n  error: \"\",\n  loading: false,\n  partialLoading: false,\n  itemLoading: false,\n  item2Loading: false,\n  message: '',\n  itemLoader: {}\n};\n\nconst DEFAULT_ERROR_MESSAGE = \"An Error occurred, please refresh and try again.\";\n\nconst getErrorMsg = (payload) => {\n  return payload || DEFAULT_ERROR_MESSAGE;\n};\n\nconst slice = createSlice({\n  name: \"common\",\n  initialState: INIT_STATE,\n  reducers: {\n    fetchStart(state) {\n      return {...state, error: '', message: '', loading: true};\n    },\n\n    fetchSuccess(state) {\n      return {...state, error: '', message: '', loading: false};\n    },\n\n    fetchError(state, action) {\n      return {...state, loading: false, error: getErrorMsg(action.payload), message: ''};\n    },\n  }\n});\n\nexport const {\n  fetchStart,\n  fetchSuccess,\n  fetchError,\n} = slice.actions;\n\nexport default slice.reducer;\n","const config = {\n  apiEnpoint: process.env.REACT_APP_API_ENDPOINT,\n  scriptIdentifier: process.env.REACT_APP_SCRIPT_IDENTIFIER,\n};\n\nexport default config;\n","import axios from \"axios\";\n\nimport config from \"../config\";\n\nconst API_ENDPOINT = config.apiEnpoint;\n\nconst suggest = (bodyData) => {\n  const url = `${API_ENDPOINT}/guest/shopify/suggest`;\n  const result = axios({\n    url,\n    method: \"post\",\n    headers: {\n      \"Content-Type\" : \"application/json\",\n    },\n    data: bodyData,\n  });\n  return result;\n};\n\nconst suggestAPI= {\n  suggest\n};\n\nexport default suggestAPI;\n\n","import {call, put, takeLatest, fork, all} from \"redux-saga/effects\";\n\nimport {\n  fetchError,\n  fetchStart,\n  fetchSuccess,\n} from \"../slices/Common\";\nimport {suggest, suggestSuccess} from \"../slices/Suggest\";\nimport suggestAPI from \"../../services/suggest\";\n\nfunction* suggestRequest({payload}) {\n  // let params;\n  // if (metadata) {\n  //   params = metadata;\n  // }\n\n  try {\n    yield put(fetchStart());\n\n    const {data} = yield call(suggestAPI.suggest, payload);\n\n    // data = result.data;\n    // if (params) {\n    //   const result = yield call(suggestAPI.suggest, query, params);\n    //   data = result.data;\n    // } else {\n    //   const result = yield call(suggestAPI.suggest, query);\n    //   data = result.data;\n    // }\n\n    yield put(suggestSuccess(data));\n    yield put(fetchSuccess());\n  } catch (error) {\n    yield put(fetchError())\n  }\n}\n\nfunction* suggestSaga() {\n  yield takeLatest(suggest, suggestRequest)\n}\n\nexport default function* rootSaga() {\n  yield all([\n    fork(suggestSaga),\n  ]);\n}\n","import {all} from \"redux-saga/effects\";\nimport suggestSagas from \"./Suggest\";\n\nexport default function* rootSaga(getState) {\n  yield all([\n    suggestSagas(),\n  ]);\n}\n","import { combineReducers } from 'redux'\nimport Common from \"../slices/Common\";\nimport Suggest from \"../slices/Suggest\";\n\n\nconst createRootReducer = () => combineReducers({\n  common: Common,\n  suggest: Suggest,\n});\n\nexport default createRootReducer\n","import createSagaMiddleware from \"redux-saga\";\nimport {applyMiddleware, compose, createStore} from 'redux'\nimport rootSaga from \"../sagas/index\";\nimport createRootReducer from '../reducers'\n\n\n// const sagaMiddleware = createSagaMiddleware();\n\nexport default function configureStore(preloadedState) {\n  const sagaMiddleware = createSagaMiddleware();\n  const store = createStore(\n    createRootReducer(),\n    preloadedState,\n    compose(\n      applyMiddleware(\n        sagaMiddleware,\n      ),\n    ),\n  );\n\n  sagaMiddleware.run(rootSaga);\n  return store;\n}\n","import React, {useState, useEffect} from \"react\";\n// import axios from \"axios\";\nimport {Provider} from 'react-redux'\nimport {ThemeProvider, theme} from \"../style\";\nimport GlobalStyles from \"../style/GlobalStyles\";\nimport {getInputs} from \"../utils\";\nimport InstantSearchWrapper from \"../InstantSearchWrapper\";\nimport {Box} from \"../components\";\nimport MobileInstantSearchWrapper from \"../MobileInstantSearchWrapper\";\nimport configureStore from '../appRedux/store';\n// import config from \"../config\";\n// import settingAPI from \"../services/setting\";\n// import {getAllSettings} from \"../appRedux/actions\";\n\nconst mobileStore = configureStore();\n\nconst App = ({settings}) => {\n  const [instantSearchs, setInstantSearchs] = useState([]);\n\n  // const [token, setToken] = useState(null);\n\n  // const [doGetAllSettings, setDoGetAllSettings] = useState(true);\n  // const [settings, setSettings] = useState(null);\n\n  // Get token from js file\n  // useEffect(() => {\n  //   if (token !== null) {\n  //     return;\n  //   }\n  //   window.addEventListener('load', function () {\n  //     const scripts = document.getElementsByTagName('script');\n  //     for (let script of scripts) {\n  //       if (script.src && script.src.indexOf(config.scriptIdentifier) > -1) {\n  //         const url = new URL(script.src);\n  //         const params = new URLSearchParams(url.search);\n  //         const accessToken = \"Bearer \" + params.get(\"tk\");\n  //         axios.defaults.headers.common['authorization'] = accessToken;\n  //         setToken(accessToken);\n  //       }\n  //     }\n  //   });\n  // }, [token]);\n\n  // // Get settings from API\n  // useEffect(() => {\n  //   if (token === null) {\n  //     return;\n  //   }\n  //   const getSettings = async () => {\n  //     try {\n  //       const {data} = await settingAPI.getSettings();\n  //       setSettings(data);\n  //     } catch (error) {\n  //       console.log(`Can't get settings: ${error}`);\n  //     }\n  //   };\n  //   // Get theme settings\n  //   if (doGetAllSettings === true) {\n  //     setDoGetAllSettings(false);\n  //     getSettings();\n  //   }\n  // }, [doGetAllSettings, token]);\n\n  // Create instant search for each inputs on theme\n  const [oldInputLength, setOldInputLength] = useState(0);\n  useEffect(() => {\n    if (settings == null) {\n      return;\n    }\n\n    let observer = new MutationObserver(function (mutations) {\n      const inputs = getInputs();\n\n      if (inputs.length !== oldInputLength) {\n        setOldInputLength(inputs.length);\n\n        setInstantSearchs(inputs.map((input, index) => {\n          const store = configureStore();\n          return (\n            <Provider store={store} key={index}>\n              <InstantSearchWrapper key={index} input={input} settings={settings}/>\n            </Provider>\n          );\n        }));\n      }\n    });\n\n    observer.observe(document.body, {\n      attributes: true,\n      characterData: true,\n      childList: true,\n      subtree: true\n    });\n\n    return () => {\n      observer.disconnect();\n    }\n  }, [oldInputLength, settings]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <GlobalStyles/>\n      <Box id=\"flashsearch-instant-search\">\n        {instantSearchs}\n      </Box>\n      <Box id=\"flashsearch-instant-search-mb\">\n        <Provider store={mobileStore}>\n          {settings !== null ? <MobileInstantSearchWrapper settings={settings}/> : null}\n        </Provider>\n      </Box>\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import axios from \"axios\";\n\nimport config from \"../config\";\n\nconst API_ENDPOINT = config.apiEnpoint;\n\nconst getSettings = () => {\n  let url = `${API_ENDPOINT}/guest/shopify/settings`;\n  return axios({\n    url,\n    method: \"get\",\n  });\n};\n\nconst settingAPI = {\n  getSettings,\n};\n\nexport default settingAPI;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport settingAPI from \"./services/setting\";\nimport config from \"./config\";\nimport axios from \"axios\";\n\n// Get access token\nconst scripts = document.getElementsByTagName('script');\nfor (let script of scripts) {\n  if (script.src && script.src.indexOf(config.scriptIdentifier) > -1) {\n    const url = new URL(script.src);\n    const params = new URLSearchParams(url.search);\n    axios.defaults.headers.common['authorization'] = \"Bearer \" + params.get(\"tk\");\n    break;\n  }\n}\n\n// Request to get setting data\nsettingAPI.getSettings().then(response => {\n  const {data} = response;\n\n  const widgetContainer = document.createElement(\"div\");\n  widgetContainer.setAttribute(\"id\", \"flashsearch-instant-search-container\");\n\n  document.body.appendChild(widgetContainer);\n\n  ReactDOM.render(<App settings={data}/>, widgetContainer);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n  serviceWorker.unregister();\n\n}).catch(error => console.log(`Can't get settings: ${error}`));\n\n\n"],"sourceRoot":""}